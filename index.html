<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Copa Tintal 2025 - Tabla de Posiciones por Club</title>
<style>
  body {
    margin: 0;
    background: linear-gradient(135deg, #000000, #FFD700);
    font-family: 'Segoe UI', sans-serif;
    color: white;
    padding: 20px;
  }
  h1 {
    text-align: center;
    font-size: 2rem;
    color: #FFD700;
    text-shadow: 2px 2px #000;
  }
  .admin-section {
    text-align: center;
    margin-bottom: 20px;
  }
  .table-container {
    overflow-x: auto;
    background-color: #111;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background-color: #222;
  }
  th, td {
    border: 1px solid #FFD700;
    padding: 8px;
    text-align: center;
  }
  th {
    background-color: #FFD700;
    color: #000;
  }
  td input {
    background: transparent;
    border: none;
    color: white;
    text-align: center;
    width: 100%;
  }
  td input:disabled {
    color: white;
  }
  .save-btn {
    background: #FFD700;
    color: #000;
    border: none;
    padding: 8px 14px;
    margin: 5px;
    cursor: pointer;
    border-radius: 5px;
  }
  .save-btn:hover {
    background: #ffaa00;
  }
  tfoot td {
    font-weight: bold;
    background: #333;
  }
</style>
</head>
<body>
<h1>Copa Tintal 2025 - Tabla de Posiciones por Club</h1>

<div class="admin-section">
  <input type="password" id="adminPass" placeholder="Contrase帽a de edici贸n">
  <button class="save-btn" onclick="enableEditing()">Activar edici贸n</button>
  <button class="save-btn" onclick="guardarDatos()">Guardar cambios</button>
  <button class="save-btn" onclick="exportarExcel()">Exportar a Excel</button>
  <button class="save-btn" onclick="descargarHTML()">Descargar HTML con cambios</button>
</div>

<div class="table-container">
  <table id="tablaClubes">
    <thead>
      <tr>
        <th>#</th>
        <th>Club</th>
        <th> Oro</th>
        <th> Plata</th>
        <th> Bronce</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr>
        <td colspan="2">TOTAL GENERAL</td>
        <td id="totalOro">0</td>
        <td id="totalPlata">0</td>
        <td id="totalBronce">0</td>
        <td id="totalGeneral">0</td>
      </tr>
    </tfoot>
  </table>
</div>

<script>
// Lista de clubes ordenados alfab茅ticamente y en may煤sculas
const clubes = [
  "ALEMAN",
  "ARZARIOZ",
  "BEGGINERS JOSEP",
  "COLOSAL",
  "COLSUBSIDIO",
  "DINAMIC",
  "ECO-PATIN",
  "EN LA LNEA PEDAGGICOS",
  "FAST KIDS",
  "FLY KIDS",
  "FORZA",
  "FOUR WHEELS",
  "FUTDEPORT",
  "LAPONTE",
  "LIBERTAD",
  "LJM SKATE",
  "MERLIN ROLLERS",
  "PATIN LATINO",
  "RECREAR EN LINEA",
  "SOBRE RUEDAS TINTAL",
  "SPEED RIEDER",
  "SPORTING CAPITAL"
];

// Cargar tabla
function cargarTabla() {
  const tbody = document.querySelector("#tablaClubes tbody");
  tbody.innerHTML = "";
  let datos = JSON.parse(localStorage.getItem("tablaClubes")) || [];
  if (datos.length === 0) {
    datos = clubes.map((club, i) => ({id: i+1, nombre: club, oro: 0, plata: 0, bronce: 0}));
  }
  datos.forEach((club, index) => {
    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${index+1}</td>
      <td>${club.nombre}</td>
      <td><input type="number" value="${club.oro}" disabled></td>
      <td><input type="number" value="${club.plata}" disabled></td>
      <td><input type="number" value="${club.bronce}" disabled></td>
      <td>${club.oro + club.plata + club.bronce}</td>
    `;
    tbody.appendChild(fila);
  });
  actualizarTotales();
}

// Activar edici贸n
function enableEditing() {
  const pass = document.getElementById("adminPass").value;
  if (pass === "admin123") {
    document.querySelectorAll("#tablaClubes tbody input").forEach(inp => inp.disabled = false);
    alert("Edici贸n activada");
  } else {
    alert("Contrase帽a incorrecta");
  }
}

// Guardar cambios
function guardarDatos() {
  const filas = document.querySelectorAll("#tablaClubes tbody tr");
  let datos = [];
  filas.forEach(fila => {
    const nombre = fila.children[1].textContent;
    const oro = parseInt(fila.children[2].querySelector("input").value) || 0;
    const plata = parseInt(fila.children[3].querySelector("input").value) || 0;
    const bronce = parseInt(fila.children[4].querySelector("input").value) || 0;
    datos.push({nombre, oro, plata, bronce});
  });
  localStorage.setItem("tablaClubes", JSON.stringify(datos));
  cargarTabla();
  alert("Datos guardados");
}

// Totales
function actualizarTotales() {
  let totalOro = 0, totalPlata = 0, totalBronce = 0;
  document.querySelectorAll("#tablaClubes tbody tr").forEach(fila => {
    totalOro += parseInt(fila.children[2].querySelector("input").value) || 0;
    totalPlata += parseInt(fila.children[3].querySelector("input").value) || 0;
    totalBronce += parseInt(fila.children[4].querySelector("input").value) || 0;
  });
  document.getElementById("totalOro").textContent = totalOro;
  document.getElementById("totalPlata").textContent = totalPlata;
  document.getElementById("totalBronce").textContent = totalBronce;
  document.getElementById("totalGeneral").textContent = totalOro + totalPlata + totalBronce;
}

// Exportar Excel
function exportarExcel() {
  let tabla = document.getElementById("tablaClubes").outerHTML;
  let blob = new Blob([tabla], {type: "application/vnd.ms-excel"});
  let link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "tabla_copa_tintal_2025.xls";
  link.click();
}

// Descargar HTML actualizado
function descargarHTML() {
  let contenido = document.documentElement.outerHTML;
  let blob = new Blob([contenido], {type: "text/html"});
  let link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "index.html";
  link.click();
}

cargarTabla();
</script>
</body>
</html>
